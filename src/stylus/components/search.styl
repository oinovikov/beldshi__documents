// search field component

.search
  position: relative
  z-index: 1
  display: block
  height: 3rem
  padding: 0
  margin: 0
  cursor: text

  &__field
    appearance: none
    box-sizing: border-box
    position: relative
    z-index: 1
    display: block
    width: 100%
    height: 100%
    padding: .75rem 3.5rem .75rem 3rem
    border: none
    border-radius: .25rem
    outline: none
    background-color: #fafafa
    font: getFont(px2rem(14), 1.5rem)
    color: rgba(0, 0, 0, .64)
    letter-spacing: px2rem(.24)
    text-overflow: ellipsis
    transition: all .24s ease
    will-change: color

    &:invalid
      border: none
      box-shadow: none

    &:-moz-submit-invalid
      border: none
      box-shadow: none

    &:-moz-ui-invalid
      border: none
      box-shadow: none

    &:focus
      color: rgba(0, 0, 0, .88)

    placeholder(getFont(px2rem(14), 1.5rem), rgba(0, 0, 0, .64))

  &__icon
    position: absolute
    top: 50%
    left: 1rem
    z-index: 2
    display: block
    width: 1.25rem
    height: @width
    opacity: .48
    transform: translateY(-50%)
    transition: opacity .24s ease
    user-select: none
    pointer-events: none
    will-change: opacity

    & svg path
      transition: stroke .24s ease

    ^[0]__field:focus ~ &
      opacity: .64
      opacity: 1

    ^[0]__field:focus ~ & svg path
      stroke: $themeColor

  &__clear
    @extends $button
    position: absolute
    top: 50%
    right: .25rem
    z-index: 3
    display: block
    width: 1.25rem
    height: @width
    padding: .875rem
    cursor: pointer
    visibility: hidden
    opacity: 0
    transform: translateY(-50%) scale(.6)
    transition: all .16s ease
    user-select: none
    will-change: visibility opacity transform

    ^[0]__field:valid ~ &
      visibility: visible
      opacity: .64
      transform: translateY(-50%) scale(1)

      &:hover
        opacity: .88

    &::before
      content: ''
      position: absolute
      top: 50%
      right: 0
      bottom: 0
      left: 50%
      z-index: -1
      display: block
      width: 0
      height: @width
      border: 1.25rem solid
      border-radius: 50%
      opacity: 0
      transform: translate(-50%, -50%) scale(.8)
      transition: all .24s ease
      will-change: opacity transform

    ^[0]__field:valid ~ &:hover::before
      opacity: .08
      transform: translate(-50%, -50%) scale(1)
